(this["webpackJsonpa-wptas"]=this["webpackJsonpa-wptas"]||[]).push([[0],{35:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),s=n(8),a=n.n(s),r=n(3),o=n(2),l=window.location.pathname,j=function(e){return l+e},d={home:j(""),newpatient:j("newpatient"),questions:j("questions"),images:j("images"),imageresponse:j("imageresponse"),listpatients:j("listpatients"),patientreport:j("patientreport"),setreminder:j("setreminder")};console.log(d);var b=d;n(35),n(36),n(37),n(38);var u=function(e){var t=function(e){e.preventDefault(),e.currentTarget.dataset.path&&Object(r.c)(e.currentTarget.dataset.path)};return Object(c.jsxs)("div",{className:"Home",children:[Object(c.jsxs)(o.Card,{children:[Object(c.jsx)("div",{className:"title",children:Object(c.jsx)(o.Button,{onClick:t,modifier:"large-cta","data-path":b.newpatient,children:"New Patient"})}),Object(c.jsx)("div",{className:"content",children:Object(c.jsx)("p",{children:"Start an assessment of a new patient."})})]}),Object(c.jsxs)(o.Card,{children:[Object(c.jsx)("div",{className:"title",children:Object(c.jsx)(o.Button,{onClick:t,modifier:"large-cta","data-path":b.listpatients,children:"Review Patients"})}),Object(c.jsx)("div",{className:"content",children:Object(c.jsx)("p",{children:"Review results from previous patients."})})]})]})},h=n(6),O=(n(39),n.p+"static/media/cup.56864a7c.png"),x=n.p+"static/media/keys.6b0d9638.png",p=n.p+"static/media/bird.cfd081bf.png",m=n(4),f=n(5),v="ADD_PATIENT",g="UPDATE_PATIENT",w="SELECT_PATIENT",k="DELETE_PATIENT",N="SET_PATIENT_PICTURE_SCORE",C="SET_PATIENT_TIMER";var P={patients:[],currentPatient:-1};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case g:"number"===typeof t.index&&t.index>=0&&t.index<e.patients.length&&(n=Object.assign({},e,{patients:[].concat(Object(f.a)(e.patients.slice(0,t.index)),[t.value],Object(f.a)(e.patients.slice(t.index+1)))}));break;case v:n=Object.assign({},e,{patients:[].concat(Object(f.a)(e.patients),[t.value]),currentPatient:e.patients.length});break;case w:"number"===typeof t.index&&t.index>=0&&t.index<e.patients.length?n=Object.assign({},e,{currentPatient:t.index}):console.log("SELECT_PATIENT out of range",t.index,e.patients.length);break;case k:"number"===typeof t.index&&t.index>=0&&t.index<e.patients.length&&(n=Object.assign({},e,{patients:[].concat(Object(f.a)(e.patients.slice(0,t.index)),Object(f.a)(e.patients.slice(t.index+1)))}));break;case N:if(e.currentPatient>=0&&"number"===typeof t.nvalue){var c=Object.assign({},e.patients[e.currentPatient],{pictures:t.nvalue});n=Object.assign({},e,{patients:[].concat(Object(f.a)(e.patients.slice(0,e.currentPatient)),[c],Object(f.a)(e.patients.slice(e.currentPatient+1)))})}break;case C:if(e.currentPatient>=0&&"number"===typeof t.nvalue){var i=0;0!==t.nvalue&&(i=new Date(Date.now()+60*t.nvalue*1e3).getTime());var s=Object.assign({},e.patients[e.currentPatient],{reminder:i});n=Object.assign({},e,{patients:[].concat(Object(f.a)(e.patients.slice(0,e.currentPatient)),[s],Object(f.a)(e.patients.slice(e.currentPatient+1)))})}}return localStorage.setItem("state",JSON.stringify(n)),n}var T=function(e){var t=e.label,n=e.image,s=e.respond,a=e.callback,r=Object(i.useState)(!1),o=Object(h.a)(r,2),l=o[0],j=o[1],d="image";return l&&(d+=" selected"),Object(c.jsx)("div",{className:d,onClick:function(){s&&(console.log(t,!l),a(!l),j(!l))},children:Object(c.jsx)("img",{src:n,alt:t})})},E=function(e){var t=e.respond,n=Object(m.b)(),s=Object(i.useState)(0),a=Object(h.a)(s,2),l=a[0],j=a[1],d=function(){t?(n({type:N,nvalue:l}),Object(r.c)(b.listpatients)):Object(r.c)(b.setreminder)},u=function(){t?Object(r.c)(b.images):Object(r.c)(b.newpatient)},f=function(e){j(e?Math.min(3,l+1):Math.max(0,l-1))};return t?(console.log("score",l),Object(c.jsxs)("div",{className:"image-question",children:[Object(c.jsx)("p",{children:"Touch the images recalled correctly"}),Object(c.jsxs)("div",{className:"image-grid",children:[Object(c.jsx)(T,{label:"cup",image:O,respond:t,callback:f}),Object(c.jsx)(T,{label:"keys",image:x,respond:t,callback:f}),Object(c.jsx)(T,{label:"bird",image:p,respond:t,callback:f})]}),Object(c.jsxs)(o.Row,{children:[Object(c.jsx)(o.Col,{children:Object(c.jsx)(o.Button,{onClick:u,children:"Prev"})}),Object(c.jsx)(o.Col,{children:Object(c.jsx)(o.Button,{onClick:d,children:"Next"})})]})]})):Object(c.jsxs)("div",{className:"image-question",children:[Object(c.jsx)("p",{children:"Remember these images."}),Object(c.jsxs)("div",{className:"image-grid",children:[Object(c.jsx)(T,{label:"cup",image:O}),Object(c.jsx)(T,{label:"keys",image:x}),Object(c.jsx)(T,{label:"bird",image:p})]}),Object(c.jsxs)(o.Row,{children:[Object(c.jsx)(o.Col,{children:Object(c.jsx)(o.Button,{onClick:u,children:"Prev"})}),Object(c.jsx)(o.Col,{children:Object(c.jsx)(o.Button,{onClick:d,children:"Next"})})]})]})},I=n(11),R=(n(42),function(e){var t=Object(m.b)(),n=Object(i.useState)({name:"",location:"",questions:[],pictures:0,reminder:0}),s=Object(h.a)(n,2),a=s[0],l=s[1];return Object(c.jsxs)("div",{className:"new-patient-form",children:[Object(c.jsx)("div",{className:"form-row",children:Object(c.jsx)(o.Input,{value:a.name,float:!0,onChange:function(e){l(Object(I.a)(Object(I.a)({},a),{},{name:e.target.value}))},placeholder:"Patient Name"})}),Object(c.jsx)("div",{className:"form-row",children:Object(c.jsx)(o.Input,{value:a.location,float:!0,onChange:function(e){l(Object(I.a)(Object(I.a)({},a),{},{location:e.target.value}))},placeholder:"Location"})}),Object(c.jsx)("div",{className:"form-row",children:Object(c.jsx)(o.Button,{onClick:function(e){t({type:v,value:a}),Object(r.c)(b.questions)},children:"Next"})})]})}),S=(n(43),function(e){var t=e.callback,n=e.value,i=function(e){t(e)},s=n?"selected":"",a=n?"":"selected";return"undefined"===typeof n&&(a=""),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"binaryChoiceContainer",children:[Object(c.jsx)("div",{className:"binary-choice-button yes-button "+s,onClick:function(){return i(!0)},children:Object(c.jsx)(o.Icon,{size:{default:120},icon:"check"})}),Object(c.jsx)("div",{className:"binary-choice-button no-button "+a,onClick:function(){return i(!1)},children:Object(c.jsx)(o.Icon,{size:{default:120},icon:"close"})})]})})}),B=(n(44),function(e){var t=Object(m.c)((function(e){return e.patients[e.currentPatient]}));return Object(c.jsxs)(o.Row,{className:"patient-report",children:[t.questions.map((function(e,t){return Object(c.jsx)(o.Col,{className:"patient-report-item",children:Object(c.jsx)("div",{className:"tick-cross ".concat(e?"tick":"cross"),children:Object(c.jsx)(o.Icon,{icon:e?"check":"close"})})},t)})),Object(c.jsx)(o.Col,{children:Object(c.jsx)("div",{className:"tick-cross ".concat(3===t.pictures?"tick":"cross"),children:Object(c.jsx)("div",{className:"picture-score",children:t.pictures})})})]})}),q=(n(45),function(e){var t=e.question,n=e.answer,i=e.next,s=e.prev,a=e.value;return Object(c.jsxs)("div",{className:"binaryChoice",children:[Object(c.jsxs)("div",{id:"question-text",children:[Object(c.jsx)("div",{id:"request",children:"Ask the patient:"}),Object(c.jsx)("div",{id:"question",children:t.text}),Object(c.jsx)("div",{id:"hint",children:t.hint})]}),Object(c.jsx)(S,{callback:function(e){n(e)},value:a}),Object(c.jsxs)(o.Row,{children:[Object(c.jsx)(o.Col,{children:Object(c.jsx)(o.Button,{onClick:s,children:"Prev"})}),Object(c.jsx)(o.Col,{children:Object(c.jsx)(o.Button,{onClick:i,children:"Next"})})]}),Object(c.jsx)(B,{})]})}),A=function(e){var t=Object(m.b)(),n=Object(m.c)((function(e){return console.log(e),e.patients[e.currentPatient]})),s=[{text:"What is your name?",hint:"Patient must provide thier full name."},{text:"What is the name of this place?",hint:"Patient must be able to give the name of e.g. sports field"},{text:"Why are you here?",hint:"Patient must know why they were admitted to hospital"},{text:"What is the month?",hint:"Patient must name the month"},{text:"What is the year?",hint:"Ok if the response is '21' or '2021'"}];console.log(n);var a=Array(5);n&&(a=n.questions);var o=Object(i.useState)(a),l=Object(h.a)(o,2),j=l[0],d=l[1],u=Object(i.useState)(0),O=Object(h.a)(u,2),x=O[0],p=O[1];return n?Object(c.jsx)(q,{answer:function(e){var c=j.slice();c[x]=e,d(c),n.questions=c,console.log(n.questions),t({type:g,value:n})},question:s[x],value:j[x],next:function(){x+1<s.length?p(x+1):Object(r.c)(b.images)},prev:function(){x>0&&p(x-1)}}):Object(c.jsx)("p",{children:"Hmmm.."})},D=function(e){var t=Object(m.b)(),n=Object(m.c)((function(e){return e})),i=function(e){"undefined"!=typeof e&&(t({type:w,index:e}),Object(r.c)(b.patientreport))};return Object(c.jsx)(o.List,{dataSource:n.patients,renderRow:function(e,t){var n=(e.reminder-Date.now())/6e4;return n<0&&(n=0),Object(c.jsxs)(o.ListItem,{onClick:function(){return i(t)},children:[Object(c.jsx)("div",{className:"left",children:e.name}),Object(c.jsx)("div",{className:"center",children:e.location}),Object(c.jsxs)("div",{className:"right",children:[(n/60).toFixed(0),"h ",(n%60).toFixed(),"m"]})]},t)}})},_=(n(46),function(e){var t=Object(m.c)((function(e){return e.patients[e.currentPatient]})),n=(t.reminder-Date.now())/6e4;return n<0&&(n=0),Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{children:["Patient report for ",Object(c.jsx)("strong",{children:t.name})," at ",Object(c.jsx)("strong",{children:t.location})]}),Object(c.jsx)("p",{children:"Time to recall test"}),Object(c.jsxs)("div",{className:"reminder",children:[(n/60).toFixed(0),"h ",(n%60).toFixed(),"m"]}),Object(c.jsxs)(o.Col,{children:[Object(c.jsx)(o.Row,{children:Object(c.jsx)(B,{})}),Object(c.jsx)(o.Row,{children:Object(c.jsx)(o.Button,{onClick:function(){Object(r.c)(b.questions)},children:"Update Answers"})}),Object(c.jsx)(o.Row,{children:Object(c.jsx)(o.Button,{onClick:function(){Object(r.c)(b.setreminder)},children:"Set Reminder"})}),Object(c.jsx)(o.Row,{children:Object(c.jsx)(o.Button,{onClick:function(){Object(r.c)(b.imageresponse)},children:"Image Recall"})})]})]})}),F=function(e){var t=Object(m.b)(),n=function(e){t({type:C,nvalue:e}),Object(r.c)(b.listpatients)};return Object(c.jsxs)("div",{className:"set-reminder",children:[Object(c.jsx)("p",{children:"Set a reminder for the image memory test."}),Object(c.jsxs)(o.Col,{width:"50%",children:[Object(c.jsx)(o.Row,{children:Object(c.jsx)(o.Button,{onClick:function(){return n(15)},children:"15 Minutes"})}),Object(c.jsx)(o.Row,{children:Object(c.jsx)(o.Button,{onClick:function(){return n(30)},children:"30 Minutes"})}),Object(c.jsx)(o.Row,{children:Object(c.jsx)(o.Button,{onClick:function(){return n(45)},children:"45 Minutes"})}),Object(c.jsx)(o.Row,{children:Object(c.jsx)(o.Button,{onClick:function(){return n(60)},children:"1 hour"})})]})]})};var L=function(){return Object(c.jsx)(o.Page,{renderToolbar:function(){return Object(c.jsxs)(o.Toolbar,{children:[Object(c.jsx)("div",{className:"left",children:Object(c.jsx)(r.a,{to:b.home,children:Object(c.jsx)(o.Icon,{icon:"home"})})}),Object(c.jsx)("div",{className:"center",children:"A-WPTAS"}),Object(c.jsx)("div",{className:"right",children:"\xa0"})]})},children:Object(c.jsxs)(r.b,{children:[Object(c.jsx)(u,{path:b.home}),Object(c.jsx)(R,{path:b.newpatient}),Object(c.jsx)(A,{path:b.questions}),Object(c.jsx)(E,{respond:!1,path:b.images}),Object(c.jsx)(E,{respond:!0,path:b.imageresponse}),Object(c.jsx)(D,{path:b.listpatients}),Object(c.jsx)(_,{path:b.patientreport}),Object(c.jsx)(F,{path:b.setreminder})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W,M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))},J=n(10),U=J.a.apply(void 0,[])(J.c),z=localStorage.getItem("state");z&&((W=JSON.parse(z)).patients&&"undefined"!==typeof W.currentPatient||(W={patients:[],currentPatient:-1}));var H=function(){return U(y,W)}();a.a.render(Object(c.jsx)(m.a,{store:H,children:Object(c.jsx)(L,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),M()}},[[47,1,2]]]);
//# sourceMappingURL=main.610fad61.chunk.js.map